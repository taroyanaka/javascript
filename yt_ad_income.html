<!DOCTYPE html>
<html>
<head>
  <title>åºƒå‘Šåå…¥è¨ˆç®—</title>
  <script src="https://unpkg.com/vue@next"></script>
  <style>
    /* å…¨ã¦ã®æ–‡å­—ã‚’1.3remã«ã™ã‚‹ */
    * {
      font-size: 1.3rem;
    }
  </style>
</head>
<body>
  <div id="app">
    <h2>{{changeLanguage('åºƒå‘Šåå…¥è¨ˆç®—', current_language)}}</h2>
    <div>
      <select name="" id="" @change="change_current_language($event.target.value)">
        <option value=""></option>
        <option v-for="lang in langs" :value="lang[0]">{{ lang[2] }}</option>
      </select>  
    </div>

    <label for="views">{{changeLanguage('å†ç”Ÿå›æ•°ï¼ˆä¸‡å›ï¼‰', current_language)}}</label>
    <input type="number" id="views" min="0" v-model="views" /><br />
    <label for="duration">{{changeLanguage('å‹•ç”»ã®é•·ã•ï¼ˆåˆ†ï¼‰', current_language)}}</label>
    <input type="number" id="duration" min="0" v-model="duration" /><br />
    <label for="revenue">{{changeLanguage('å˜ä½å†ç”Ÿã‚ãŸã‚Šã®åç›Šï¼ˆå††ï¼‰', current_language)}}</label>
    <input type="number" id="revenue" min="0" v-model="revenue" /><br />
    <label for="video">{{changeLanguage('å‹•ç”»æœ¬æ•°', current_language)}}</label>
    <input type="number" id="video" min="0" v-model="video" /><br />
    <button type="button" @click="calculateAdRevenue()">{{changeLanguage('è¨ˆç®—ã™ã‚‹', current_language)}}</button>
    <div>{{ adRevenue === null ? changeLanguage('è¨ˆç®—ã—ã¦ãã ã•ã„', current_language) : adRevenue + changeLanguage('å††', current_language) }}</div>
  </div>

  <script>
const app = Vue.createApp({
  setup() {
    const views = Vue.ref(100);
    const duration = Vue.ref(30);
    const revenue = Vue.ref(7);
    const video = Vue.ref(1);
    const adRevenue = Vue.ref(null);
    const current_lang_array = Vue.ref(['en', 'US', 'ğŸ‡ºğŸ‡¸']);

    const langs = [
      ['ja', 'JP', 'ğŸ‡¯ğŸ‡µ'],
      ['en', 'US', 'ğŸ‡ºğŸ‡¸'],
      ['zh', 'CN', 'ğŸ‡¨ğŸ‡³ğŸ‡¹ğŸ‡¼'],
      ['ko', 'KR', 'ğŸ‡°ğŸ‡·'],
      ['es', 'ES', 'ğŸ‡ªğŸ‡¸'],
      ['fr', 'FR', 'ğŸ‡«ğŸ‡·'],
      ['de', 'DE', 'ğŸ‡©ğŸ‡ª'],
      ['it', 'IT', 'ğŸ‡®ğŸ‡¹'],
      ['ru', 'RU', 'ğŸ‡·ğŸ‡º'],
      ['pt', 'PT', 'ğŸ‡µğŸ‡¹'],
    ];

    // get_paramã§ã“ã®ã‚µã‚¤ãƒˆã®URLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã€‚paramã¯lang=jaã®ã‚ˆã†ã«ãªç†ã€jaã®éƒ¨åˆ†ã‚’å–å¾—ã™ã‚‹
  const get_param = () => {
    try {
      const url = window.location.href;
      const param = url.split('?')[1] ? url.split('?')[1] : null;
      const lang = param.split('=')[1] ? param.split('=')[1] : null;
      if (lang === undefined || lang === null || lang === '' || param === null) {
          return null;
      }
      return lang;
    } catch (error) {
      return null;
    }
  };
  let current_language = get_param() ? get_param() : 'ja';

  // langã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ã¤ã‘ãŸURLã‚’ä½œã‚Šã€ãã‚Œã‚’é–‹ã
  function change_current_language(lang){
    if (lang) {
      const url = new URL(window.location.href);
      url.searchParams.set('lang', lang);
      window.location.href = url.toString();
    }
  }

// è¨€èªã‚’å¤‰æ›´ã™ã‚‹é–¢æ•°
function changeLanguage(word, lang) {
      const all_lang = [
        [ 
          ['ja', 'åºƒå‘Šåå…¥è¨ˆç®—'],
          ['en', 'Ad revenue calculation'],
          ['zh', 'å¹¿å‘Šæ”¶å…¥è®¡ç®—'],
          ['ko', 'ê´‘ê³  ìˆ˜ìµ ê³„ì‚°'],
          ['es', 'CÃ¡lculo de ingresos por publicidad'],
          ['fr', 'Calcul des revenus publicitaires'],
          ['de', 'Berechnung der Werbeeinnahmen'],
          ['it', 'Calcolo del ricavo pubblicitario'],
          ['ru', 'Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ° Ğ¾Ñ‚ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹'],
          ['pt', 'CÃ¡lculo de receita de anÃºncios'],
        ],
        [ 
          ['ja', 'å†ç”Ÿå›æ•°ï¼ˆä¸‡å›ï¼‰'],
          ['en', 'Number of views (10,000 times)'],
          ['zh', 'è§‚çœ‹æ¬¡æ•°ï¼ˆä¸‡æ¬¡ï¼‰'],
          ['ko', 'ì¡°íšŒìˆ˜ (ë§Œ ë²ˆ)'],
          ['es', 'NÃºmero de vistas (10,000 veces)'],
          ['fr', 'Nombre de vues (10 000 fois)'],
          ['de', 'Anzahl der Aufrufe (10.000 Mal)'],
          ['it', 'Numero di visualizzazioni (10.000 volte)'],
          ['ru', 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ² (Ğ² 10 000 Ñ€Ğ°Ğ·)'],
          ['pt', 'NÃºmero de visualizaÃ§Ãµes (10.000 vezes)'],
        ],
        [ 
          ['ja', 'å‹•ç”»ã®é•·ã•ï¼ˆåˆ†ï¼‰'],
          ['en', 'Video length (minutes)'],
          ['zh', 'è§†é¢‘é•¿åº¦ï¼ˆåˆ†é’Ÿï¼‰'],
          ['ko', 'ë™ì˜ìƒ ê¸¸ì´ (ë¶„)'],
          ['es', 'DuraciÃ³n del video (minutos)'],
          ['fr', 'DurÃ©e de la vidÃ©o (minutes)'],
          ['de', 'VideolÃ¤nge (Minuten)'],
          ['it', 'Durata del video (minuti)'],
          ['ru', 'Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾ (Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹)'],
          ['pt', 'DuraÃ§Ã£o do vÃ­deo (minutos)'],
        ],
        [ 
          ['ja', 'å˜ä½å†ç”Ÿã‚ãŸã‚Šã®åç›Šï¼ˆå††ï¼‰'],
          ['en', 'Revenue per unit view (yen)'],
          ['zh', 'æ¯ä¸ªå•ä½è§‚çœ‹çš„æ”¶å…¥ï¼ˆæ—¥å…ƒï¼‰'],
          ['ko', 'ì¡°íšŒë‹¹ ìˆ˜ìµ (ì—”)'],
          ['es', 'Ingresos por unidad de vista (yen)'],
          ['fr', 'Revenu par vue unitaire (yen)'],
          ['de', 'Einnahmen pro Einheit Ansicht (Yen)'],
          ['it', 'Ricavo per unitÃ  di visualizzazione (yen)'],
          ['ru', 'Ğ”Ğ¾Ñ…Ğ¾Ğ´ Ğ·Ğ° Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ (Ğ¸ĞµĞ½Ğ°)'],
          ['pt', 'Receita por visualizaÃ§Ã£o unitÃ¡ria (iene)'],
        ],
        [ 
          ['ja', 'å‹•ç”»æœ¬æ•°'],
          ['en', 'Number of videos'],
          ['zh', 'è§†é¢‘æ•°é‡'],
          ['ko', 'ë™ì˜ìƒ ìˆ˜'],
          ['es', 'NÃºmero de videos'],
          ['fr', 'Nombre de vidÃ©os'],
          ['de', 'Anzahl der Videos'],
          ['it', 'Numero di video'],
          ['ru', 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾'],
          ['pt', 'NÃºmero de vÃ­deos'],
        ],
        [ 
          ['ja', 'è¨ˆç®—ã™ã‚‹'],
          ['en', 'Calculate'],
          ['zh', 'è®¡ç®—'],
          ['ko', 'ê³„ì‚°'],
          ['es', 'Calcular'],
          ['fr', 'Calculer'],
          ['de', 'Berechnen'],
          ['it', 'Calcolare'],
          ['ru', 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ'],
          ['pt', 'Calcular'],
        ],
        [
          ['ja', 'è¨ˆç®—ã—ã¦ãã ã•ã„'],
          ['en', 'Please calculate'],
          ['zh', 'è¯·è®¡ç®—'],
          ['ko', 'ê³„ì‚°í•´ì£¼ì„¸ìš”'],
          ['es', 'Por favor, calcula'],
          ['fr', 'S\'il vous plaÃ®t calculer'],
          ['de', 'Bitte berechnen'],
          ['it', 'Si prega di calcolare'],
          ['ru', 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ'],
          ['pt', 'Por favor, calcule'],
        ],
        [
          ['ja', 'å††'],
          ['en', 'yen'],
          ['zh', 'æ—¥å…ƒ'],
          ['ko', 'ì—”'],
          ['es', 'yen'],
          ['fr', 'yen'],
          ['de', 'Yen'],
          ['it', 'yen'],
          ['ru', 'Ğ¸ĞµĞ½Ğ°'],
          ['pt', 'iene'],
        ],
        ];
  // wordã‚’all_langã‹ã‚‰æ¢ã—ã¦langã®è¨€èªã‚’è¿”ã™
  // wordãŒ'åºƒå‘Šåå…¥'ã§ã€langãŒ'en'ãªã‚‰'Ad revenue'ã‚’è¿”ã™
  const point = all_lang.map((V,IDX)=>[V[0], IDX])
    .filter(V=>V[0][1]===word)[0][1];
  const res = all_lang[point];
  // resã‹ã‚‰langã®è¨€èªã‚’è¿”ã™
  const res2 = res.filter(V=>V[0]===lang)[0][1];

  return res2;
};
  function calculateAdRevenue() {
    const viewsValue = parseInt(views.value);
    const durationValue = parseInt(duration.value);
    const revenueValue = parseInt(revenue.value);
    const videoValue = parseInt(video.value);
    if (isNaN(viewsValue) || isNaN(durationValue) || isNaN(revenueValue) || isNaN(videoValue)) {
      alert("å…¥åŠ›å€¤ãŒä¸æ­£ã§ã™ã€‚");
      return;
    }
    adRevenue.value = viewsValue * durationValue * revenueValue * videoValue;
  }

    Vue.watch([views, duration, revenue, video], () => {
      calculateAdRevenue();
    });

    return {
      langs,
      current_language,
      current_lang_array,

      views,
      duration,
      revenue,
      video,
      adRevenue,

      calculateAdRevenue,
      changeLanguage,
      change_current_language,
    };
  },
});

app.mount("#app");
</script>
</body>
</html>